{"version":3,"file":"main.js","mappings":"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","sources":["webpack://testing__validcard/webpack/bootstrap","webpack://testing__validcard/webpack/runtime/publicPath","webpack://testing__validcard/./src/components/cardValidator.js","webpack://testing__validcard/./src/components/cardAlgorithm.js","webpack://testing__validcard/./src/components/widget.js","webpack://testing__validcard/./src/js/app.js","webpack://testing__validcard/./src/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","__webpack_require__.p = \"\";","export function isValidNum(inputField, value) {\n  const isNum = /^\\d+$/.test(value);\n  if (!isNum) {\n    inputField.value = \"\";\n    inputField.classList.add(\"numInValid\");\n    inputField.placeholder = \"Введите номер карты\";\n  } else {\n    inputField.classList.remove(\"numInValid\");\n    // inputField.placeholder = 'Credit card number';\n  }\n}\n\nexport function isValidTypeCard(value) {\n  const elementLi = document.querySelectorAll(\"li\");\n  elementLi.forEach((item) => {\n    item.classList.add(\"notPaymentSystem\");\n  });\n  if (/^[4]/.test(value)) {\n    const visa = document.querySelector('[data-id=\"Visa\"]').parentElement;\n    const message = document.querySelector(\".message\");\n    const text = document.querySelector(\".text\")\n    visa.classList.remove(\"notPaymentSystem\");\n    visa.classList.add(\"choice\");\n    message.classList.remove(\"message_none\");\n    text.innerHTML = \"Карта платежной системы Visa\";\n  }\n  if (/^[5]/.test(value)) {\n    const masterCard = document.querySelector(\n      '[data-id=\"MasterCard\"]',\n    ).parentElement;\n    masterCard.classList.remove(\"notPaymentSystem\");\n    masterCard.classList.add(\"choice\");\n    document.querySelector(\".message\").classList.remove(\"message_none\");\n    document.querySelector(\".text\").innerHTML =\n      \"Карта платежной системы MasterCard\";\n  }\n  if (/^34|^37/.test(value)) {\n    const americanExpress = document.querySelector(\n      '[data-id=\"AmericanExpress\"]',\n    ).parentElement;\n    americanExpress.classList.remove(\"notPaymentSystem\");\n    americanExpress.classList.add(\"choice\");\n    document.querySelector(\".message\").classList.remove(\"message_none\");\n    document.querySelector(\".text\").innerHTML =\n      \"Карта платежной системы AmericanExpress\";\n  }\n  if (/^83|^63/.test(value)) {\n    const unionpay = document.querySelector(\n      '[data-id=\"Unionpay\"]',\n    ).parentElement;\n    unionpay.classList.remove(\"notPaymentSystem\");\n    unionpay.classList.add(\"choice\");\n    document.querySelector(\".message\").classList.remove(\"message_none\");\n    document.querySelector(\".text\").innerHTML =\n      \"Карта платежной системы Union Pay\";\n  }\n  if (/^35/.test(value)) {\n    const jcb = document.querySelector('[data-id=\"JCB\"]').parentElement;\n    jcb.classList.remove(\"notPaymentSystem\");\n    jcb.classList.add(\"choice\");\n    document.querySelector(\".message\").classList.remove(\"message_none\");\n    document.querySelector(\".text\").innerHTML = \"Карта платежной системы JCB\";\n  }\n  if (/^[2]/.test(value)) {\n    const mir = document.querySelector('[data-id=\"Mir\"]').parentElement;\n    mir.classList.remove(\"notPaymentSystem\");\n    mir.classList.add(\"choice\");\n    document.querySelector(\".message\").classList.remove(\"message_none\");\n    document.querySelector(\".text\").innerHTML = \"Карта платежной системы МИР\";\n  }\n}\n","export default function cardAlgorithm(value) {\n  const message = document.querySelector(\".message\");\n  const text = document.querySelector(\".text\");\n  const valueList = value.split(\"\");\n  let sum = 0;\n  valueList.forEach((el, i) => {\n    const elNum = Number(el);\n    if (i % 2 === 0) {\n      elNum * 2 > 9 ? (sum = sum + elNum * 2 - 9) : (sum += elNum * 2);\n    } else {\n      sum += elNum;\n    }\n  });\n\n  if (sum % 10 === 0) {\n    if (message !== null) {\n      message.classList.remove(\"message_none\");\n      message.classList.add(\"valid\");\n      text.innerHTML = \"Корректный номер карты\";\n    }\n  } else {\n    if (message !== null) {\n      message.classList.remove(\"message_none\");\n      message.classList.add(\"invalid\");\n      text.innerHTML = \"Некорректный номер карты\";\n    }\n  }\n  return sum % 10 === 0;\n}\n","import { isValidNum, isValidTypeCard } from \"./cardValidator\";\nimport cardAlgorithm from \"./cardAlgorithm\";\nimport visa from \"../pic/visa_logo.png\";\nimport mir from \"../pic/mir_logo.png\";\nimport jcb from \"../pic/jcb_logo.png\";\nimport americanexpress from \"../pic/americanexpress_logo.png\";\nimport mastercard from \"../pic/mastercard_logo.png\";\nimport unionpay from \"../pic/unionpay_logo.png\";\n\nexport default class Widget {\n  constructor(container) {\n    this.container = container;\n    this.onSubmit = this.onSubmit.bind(this);\n    this.onText = this.onText.bind(this);\n    this.bindToDOM();\n  }\n\n  static get markup() {\n    return `<div class=\"container__body\">\n    <div class=\"container__content\">\n      <div class=\"validator__widget widget\">\n        <ul class=\"card__list\">\n          <li class=\"widget__item mir\"><img data-id=\"Mir\" src=\"${mir}\" title=\"Мир\" alt=\"Мир\"></li>\n          <li class=\"widget__item\"><img data-id=\"Visa\" src=\"${visa}\" title=\"Visa\" alt=\"Visa\"></li>\n          <li class=\"widget__item\"><img data-id=\"MasterCard\" src=\"${mastercard}\" title=\"MasterCard\" alt=\"MasterCard\"></li>\n          <li class=\"widget__item\"><img data-id=\"AmericanExpress\" src=\"${americanexpress}\" title=\"AmericanExpress\" alt=\"AmericanExpress\"></li>\n          <li class=\"widget__item\"><img data-id=\"Unionpay\" src=\"${unionpay}\" title=\"UnionPay\" alt=\"Unionpay\"></li>\n          <li class=\"widget__item\"><img data-id=\"JCB\" src=\"${jcb}\" title=\"JCB\" alt=\"JCB\"></li>\n        </ul>\n        <form class=\"widget__form\">\n          <div class=\"widget__row\">\n            <input class=\"input\" id=\"card-number\" type=\"number\" placeholder=\"Введите номер карты\">\n            <button class=\"button\" id=\"btn-valid\" type=\"submit\">Подтвердить</button>\n          </div>\n          <div class=\"message message_none\">\n            <p class=\"text\"></p>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>`;\n  }\n\n  static get selector() {\n    return \".widget__form\";\n  }\n\n  static get inputSelector() {\n    return \".input\";\n  }\n\n  static get submitSelector() {\n    return \".button\";\n  }\n\n  bindToDOM() {\n    this.container.innerHTML = Widget.markup;\n\n    this.element = this.container.querySelector(Widget.selector);\n    this.submit = this.element.querySelector(Widget.submitSelector);\n    this.input = this.element.querySelector(Widget.inputSelector);\n    this.element.addEventListener(\"submit\", this.onSubmit);\n    this.input.addEventListener(\"input\", this.onText);\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    if (this.input.value !== \"\") {\n      cardAlgorithm(this.input.value);\n    } else {\n      isValidNum(this.input, \"zero click\");\n    }\n  }\n\n  onText(e) {\n    e.preventDefault();\n    isValidNum(this.input, this.input.value);\n    if (this.input.value !== \"\") {\n      isValidTypeCard(this.input.value);\n    }\n    this.input.addEventListener(\"click\", () => {\n      this.input.value = \"\";\n      this.input.classList.remove(\"numInValid\");\n      const liList = document.querySelectorAll(\"li\");\n      liList.forEach((item) => {\n        item.classList.remove(\"not-identified-card\");\n      });\n      document.querySelector(\".message\").classList.add(\"valid\");\n      document.querySelector(\".message\").classList.add(\"invalid\");\n    });\n  }\n}\n","import Widget from \"../components/widget\";\n\nconst widget = new Widget(document.querySelector(\".container\"));\nwidget.bindToDOM();\n","import \"./css/style.css\";\nimport \"./js/app\";\n"],"names":["isValidNum","inputField","value","isNum","test","classList","add","placeholder","remove","isValidTypeCard","elementLi","document","querySelectorAll","forEach","item","visa","querySelector","parentElement","message","text","innerHTML","masterCard","americanExpress","unionpay","jcb","mir","cardAlgorithm","valueList","split","sum","el","i","elNum","Number","americanexpress","mastercard","Widget","constructor","container","onSubmit","bind","onText","bindToDOM","markup","selector","inputSelector","submitSelector","element","submit","input","addEventListener","e","preventDefault","liList","widget"],"sourceRoot":""}